!function(n){"use strict";function e(t){function o(n){i(n),w=!1,l&&r()}function i(e){function t(){if(!(e.images&&e.images instanceof Array))throw new Error("Options object should have 'images' property (type of array) containing paths to the loaded images.");for(var n=0;n<e.images.length;n++)if("string"!=typeof e.images[n]&&!e.images[n].hasOwnProperty("src"))throw new Error("Objects in 'images' property should have src property");return e.images.slice(0)}function o(){if(e.onComplete&&"function"!=typeof e.onComplete)throw new Error("'onComplete' property should be a function");return c(e.onComplete,n)}function i(){if(e.onFileComplete&&"function"!=typeof e.onFileComplete)throw new Error("'onFileComplete' property should be a function");return c(e.onFileComplete,n)}function r(){if(e.onFileStart&&"function"!=typeof e.onFileStart)throw new Error("'onFileStart' property should be a function");return c(e.onFileStart,n)}function u(){return c(e.autoload,!0)}function a(){var n=c(e.numberOfThreads,1),t=parseInt(n);if(isNaN(t)||1>t)throw new Error("'numberOfThreads' should be integer number grater than 0");return t}function f(){var t=c(e.simulationDelayMin,n),o=parseInt(t);if("undefined"!=typeof t&&(isNaN(o)||0>o))throw new Error("'simulationDelayMin' should be a non-negative integer number");return"undefined"==typeof t&&(o=n),o}function s(){var t=c(e.simulationDelayMax,n),o=parseInt(t);if("undefined"!=typeof t&&(isNaN(o)||0>o))throw new Error("'simulationDelayMax' should be a non-negative integer number");return"undefined"==typeof t&&(o=n),o}function c(n,e){return"undefined"==typeof n?e:n}if(!e||"object"!=typeof e)throw new Error("Options should be an Object");d=new Queue(t()),h=o(),p=i(),g=r(),l=u(),m=a();var w=f(),y=s();QueueItem.setSimulationDelays(w,y)}function r(){w===!1&&c()===!1&&(w=!0,u())}function u(){for(var n=0;m>n;n++)new Thread({onThreadComplete:s,onFileComplete:a,onFileStart:f,queue:d})}function a(n){p&&p(n)}function f(n){g&&g(n)}function s(){c()&&h&&(w=!1,h())}function c(){return d.isComplete()}if(!(this instanceof e))return new e(t);var l,d,m,h,p,g,w,y=this;return o(t),y.getQueue=function(){return d},y.getPercentLoaded=function(){return d.getPercentLoaded()},y.load=r,y.isComplete=c,this}window.Preloader=e}(),function(){"use strict";function n(e){function t(){i=o(e),r.length=i.length}function o(n){for(var e=[],t=0;t<n.length;t++)"string"==typeof n[t]?e.push(new QueueItem({src:n[t]})):"object"==typeof n[t]&&e.push(new QueueItem(n[t]));return e}if(!(this instanceof n))return new n(e);var i,r=this;return r.length=0,t(),r.get=function(n){return i[n]},r.isComplete=function(){for(var n,e=!0,t=0;t<i.length;t++)if(n=i[t],n.isPending()||n.isLoading()){e=!1;break}return e},r.getNextPendingItem=function(){for(var n,e=0;e<i.length;e++)if(i[e].isPending()){n=i[e];break}return n},r.getPercentLoaded=function(){var n,e=0,t=i.length;for(e;t>e&&(n=i[e],!n.isPending()&&!n.isLoading());e++);return e/t},this}window.Queue=n}(),function(n){"use strict";function e(t){function o(){i(),f()}function i(){for(var n in t)y[n]=t[n];y.tag=document.createElement("img")}function r(){y.status=w.FAILED}function u(){y.status=w.COMPLETE}function a(){y.status=w.LOADING}function f(){y.status=w.PENDING}function s(){y.tag.removeEventListener("load",c),y.tag.removeEventListener("error",l)}function c(){e.simulationDelayMin?setTimeout(function(){d()},p()):d()}function l(){e.simulationDelayMin?setTimeout(function(){m()},p()):m()}function d(){s(),u(),h(),g=n}function m(){s(),y.tag=n,r(),h(),g=n}function h(){g&&g(y)}function p(){var n=e.simulationDelayMax,t=e.simulationDelayMin;return Math.floor(Math.random()*(n-t)+t)}if(!(this instanceof e))return new e;var g,w={PENDING:"pending",LOADING:"loading",COMPLETE:"complete",FAILED:"failed"},y=this;return o(),y.load=function(n){g=n,a(),y.tag.addEventListener("load",c),y.tag.addEventListener("error",l),y.tag.src=y.src},y.isPending=function(){return y.status===w.PENDING},y.isComplete=function(){return y.status===w.COMPLETE},y.isLoading=function(){return y.status===w.LOADING},y.isFailed=function(){return y.status===w.FAILED},this}window.QueueItem=e,e.setSimulationDelays=function(n,t){var o=n,i=t;o&&!i?i=o:i&&!o&&(o=i),e.simulationDelayMin=o,e.simulationDelayMax=i}}(),function(){"use strict";function n(e){function t(){r=e.onThreadComplete,u=e.onFileComplete,a=e.onFileStart,f=e.queue,o()}function o(){var n=f.getNextPendingItem();"undefined"==typeof n?r():(n.load(i),a(n))}function i(n){u(n),o()}if(!(this instanceof n))return new n(e);var r,u,a,f;return t(),this}window.Thread=n}();